<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Modifier produit ‚Äì Admin | TrendyShop</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 min-h-screen">
    <!-- HEADER -->
    <%- include("../partials/header") %>

    <div class="container mx-auto px-4 py-10 max-w-xl">
      <!-- TITRE -->
      <h1 class="text-3xl font-bold mb-6 text-center">
        ‚úèÔ∏è Modifier le produit
      </h1>

      <!-- FORMULAIRE -->
      <form
        action="/admin/products/<%= product.id %>/edit"
        method="POST"
        enctype="multipart/form-data"
        class="bg-white p-6 rounded shadow space-y-5"
      >
        <!-- NOM -->
        <div>
          <label class="block font-semibold mb-1">Nom du produit</label>
          <input
            type="text"
            name="name"
            value="<%= product.name %>"
            required
            class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300"
          />
        </div>

        <!-- PRIX -->
        <div>
          <label class="block font-semibold mb-1">Prix (‚Ç¨)</label>
          <input
            type="number"
            name="price"
            step="0.01"
            value="<%= product.price %>"
            required
            class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300"
          />
        </div>

        <!-- IMAGE ACTUELLE -->
        <% if (product.imageUrl) { %>
        <div>
          <p class="font-semibold mb-2">Image actuelle</p>
          <img
            src="<%= product.imageUrl %>"
            alt="Image produit"
            class="h-40 object-contain rounded border bg-gray-50"
          />
        </div>
        <% } %>

        <!-- NOUVELLE IMAGE -->
        <div>
          <label class="block font-semibold mb-1">
            Nouvelle image (optionnel)
          </label>
          <input type="file" name="image" accept="image/*" class="w-full" />
          <p class="text-sm text-gray-500 mt-1">
            Laissez vide pour conserver l‚Äôimage actuelle
          </p>
        </div>
        <!-- DESCRIPTION -->
        <div>
          <label class="block font-semibold mb-1">Description</label>
          <textarea
            name="description"
            rows="4"
            required
            class="w-full border rounded px-3 py-2 focus:outline-none focus:ring focus:ring-indigo-300"
          >
<%= product.description %></textarea
          >
        </div>

        <!-- BOUTONS -->
        <div class="flex justify-between items-center pt-4">
          <a href="/admin" class="text-gray-600 hover:underline">
            ‚Üê Retour dashboard
          </a>

          <button
            type="submit"
            class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded font-semibold"
          >
            üíæ Enregistrer
          </button>
        </div>
      </form>
    </div>

    <%- include("../partials/footer") %>
  </body>
</html>
